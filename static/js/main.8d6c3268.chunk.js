(this.webpackJsonptamagochi=this.webpackJsonptamagochi||[]).push([[0],[,function(e,t,a){e.exports={tamagotchi:"style_tamagotchi__1Fidb",tamagotchi__inner:"style_tamagotchi__inner__FS49L",tamagotchi__shadow:"style_tamagotchi__shadow__2B6qF",tamagotchi__highlight:"style_tamagotchi__highlight__PQTZf",loop:"style_loop__3sa0m",screen:"style_screen__1ztdF",screen__inner:"style_screen__inner__1KUfC",crack:"style_crack__-WCmE",crack__line:"style_crack__line__1buCc",crackTop:"style_crackTop__IwYEP",crackRight:"style_crackRight__TUKoy",crackBottom:"style_crackBottom__2kj_F",crackLeft:"style_crackLeft__Ir7w3",buttons:"style_buttons__20Mi6",button:"style_button__35Zmd",buttonB:"style_buttonB__1eLeQ","chore-score":"style_chore-score__h71YW","is-player-thought":"style_is-player-thought__2tQnM",credits:"style_credits__3DXFp",buttonWrapper:"style_buttonWrapper__24aF3",buttonText:"style_buttonText__qWW9Y"}},,,function(e,t,a){e.exports={emoji:"style_emoji__33GV8",screen:"style_screen__2W9sE",pooStack:"style_pooStack__2xWfO",deathText:"style_deathText__3lxKe"}},,function(e,t,a){e.exports={stat:"style_stat__1Kf7X"}},,,,,function(e,t,a){e.exports={pooPile:"style_pooPile__3O0go"}},,,function(e,t,a){e.exports=a(22)},,,,,function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(8),s=a.n(i),r=(a(19),a(9)),o=a(13),l=a(10),u=a(3),_=a(5),m=a(12),h=a(1),k=a.n(h),d=a(2),E={text:"",click:d.noop},g=["buttonA","buttonB","buttonC"],p=function(e){var t=e.children,a=e.buttonsActions,n=void 0===a?[]:a;return c.a.createElement("div",{className:k.a.tamagotchi},c.a.createElement("div",{className:k.a.loop}),c.a.createElement("div",{className:k.a.tamagotchi__inner},c.a.createElement("div",{className:k.a.tamagotchi__shadow},c.a.createElement("div",{className:k.a.tamagotchi__highlight})),c.a.createElement("div",{className:k.a.screen},c.a.createElement("div",{className:"".concat(k.a.crack," ").concat(k.a.crackTop)}),c.a.createElement("div",{className:"".concat(k.a.crack," ").concat(k.a.crackRight)},c.a.createElement("div",{className:k.a.crack__line})),c.a.createElement("div",{className:"".concat(k.a.crack," ").concat(k.a.crackBottom)}),c.a.createElement("div",{className:"".concat(k.a.crack," ").concat(k.a.crackLeft)},c.a.createElement("div",{className:k.a.crack__line})),c.a.createElement("div",{className:k.a.screen__inner},t)),c.a.createElement("div",{className:k.a.buttons},[k.a.buttonA,k.a.buttonB,k.a.buttonC].map((function(e,t){var a=n[t]||E;return c.a.createElement("div",{className:k.a.buttonWrapper,key:t},c.a.createElement("div",{className:k.a.buttonText},a.text),c.a.createElement("div",{className:"".concat(k.a.button," ").concat(e),onClick:a.click,"data-testid":g[t]}))})))))},T=a(4),S=a.n(T),y={egg:"&#129370;",hatchingChick:"&#128035;",chick:"&#128037;",rooster:"&#128019;",skull:"&#9760;&#65039;",Zzz:"&#x1F4A4;",poo:"&#x1F4A9;"},v=function(e){var t=function(e){if(e.timeTick===w.LIFE_SPAN)return"Age";if(e.state.pooCount===w.MAX_POO_COUNT)return"Dirtiness";if(100===e.state.hungryness)return"Hungry";if(100===e.state.tiredness)return"Tired"}(e);return Object(d.isNil)(t)?function(e){return{awakeTick:function(){if(e.state.awakeTick===e.timeTick||0===e.state.tiredness)return null;if(e.sleepSchedule.includes(e.timeTick))return e.timeTick+Object(d.random)(1,15);return e.state.awakeTick}(),pooCount:e.pooSchedule.includes(e.timeTick)?e.state.pooCount+1:e.state.pooCount,hungryness:Math.min(e.state.hungryness+w.HUNGRY_INCREMENT,100),tiredness:e.isSleeping?Math.max(e.state.tiredness-w.TIRED_INCREMENT,0):Math.min(e.state.tiredness+w.TIRED_INCREMENT,100)}}(e):{deathReason:t}};var f=a(6),N=a.n(f),b=function(e){var t=e.hungryness,a=e.tiredness;return[c.a.createElement("div",{className:N.a.stat,key:"hungryBar"},c.a.createElement("span",null,"Hungry:"),c.a.createElement("progress",{max:"100",value:t})),c.a.createElement("div",{className:N.a.stat,key:"tiredBar"},c.a.createElement("span",null,"Tired:"),c.a.createElement("progress",{max:"100",value:a}))]};b.displayName="Bars";var O=b,R=a(11),C=a.n(R),I=function(e){var t=e.count;return c.a.createElement("div",{className:C.a.pooPile},Object(d.range)(t).map((function(e,t){return c.a.createElement("div",{dangerouslySetInnerHTML:{__html:y.poo},key:t})})))};I.displayName="PooPile";var P=I,j=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).start=function(){var e=1e3/t.TICKS_PER_SECOND;a.interval=setInterval(a.processTimeStep,e)},a.cleanPoo=function(){a.setState({pooCount:0,awakeTick:null})},a.processTimeStep=function(){a.timeTick+=1;var e=v(Object(u.a)(a));a.setState(e),Object(d.isNil)(e.deathReason)||clearInterval(a.interval)},a.feed=function(){a.setState({hungryness:Math.max(a.state.hungryness-t.FOOD_SIZE,0),awakeTick:null})},a.awake=function(){a.setState({awakeTick:null})},a.goSleep=function(){a.setState({awakeTick:a.timeTick+Object(d.random)(1,30)})},a.getImg=function(){switch(!0){case a.isDead:return y.skull;case a.isSleeping:return y.Zzz;case a.timeTick>=t.STAGES.dead.tickLimit:return t.STAGES.dead.emoji;case a.timeTick>=t.STAGES.rooster.tickLimit:return t.STAGES.rooster.emoji;case a.timeTick>=t.STAGES.chick.tickLimit:return t.STAGES.chick.emoji;case a.timeTick>=t.STAGES.hatching.tickLimit:return t.STAGES.hatching.emoji;case a.timeTick>=t.STAGES.egg.tickLimit:return t.STAGES.egg.emoji;default:console.log("ERROR: Unmapped stage")}},a.getButtons=function(){var e={start:{text:"start",click:a.start},feed:{text:"Feed",click:a.feed},awake:{text:"Awake",click:a.awake},clean:{text:"Clean",click:a.cleanPoo},sleep:{text:"Sleep",click:a.goSleep}};return a.hasStarted?a.isDead?[]:[e.feed,a.isSleeping?e.awake:e.sleep,a.hasPoo?e.clean:null]:[null,e.start,null]},a.pooSchedule=t.generateSchedule(t.POO_FREQ),a.sleepSchedule=t.generateSchedule(t.SLEEP_FREQ),a.timeTick=0,a.interval=null,a.state={awakeTick:null,pooCount:0,hungryness:0,tiredness:0,deathReason:null},a}return Object(m.a)(t,e),Object(_.a)(t,null,[{key:"generateSchedule",value:function(e){var a=Math.floor(t.LIFE_SPAN/e);return Object(d.range)(0,a-1).map((function(t){return e*t+Object(d.random)(0,e)}))}}]),Object(_.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(p,{buttonsActions:this.getButtons()},c.a.createElement("div",{className:S.a.screen},c.a.createElement(O,{hungryness:this.state.hungryness,tiredness:this.state.tiredness}),c.a.createElement("div",{className:S.a.emoji,dangerouslySetInnerHTML:{__html:this.getImg()}}),this.hasPoo&&c.a.createElement(P,{count:this.state.pooCount}),this.isDead&&c.a.createElement("div",{className:S.a.deathText},"Death cause: ",this.state.deathReason))))}},{key:"hasStarted",get:function(){return!Object(d.isNil)(this.interval)}},{key:"isDead",get:function(){return null!==this.state.deathReason}},{key:"isSleeping",get:function(){return null!==this.state.awakeTick}},{key:"hasPoo",get:function(){return this.state.pooCount>0}}]),t}(n.Component);j.TICKS_PER_SECOND=2,j.MAX_POO_COUNT=3,j.LIFE_SPAN=180,j.HUNGRY_PERIOD=30,j.HUNGRY_INCREMENT=100/(j.TICKS_PER_SECOND*j.HUNGRY_PERIOD),j.TIRED_PERIOD=30,j.TIRED_INCREMENT=100/(j.TICKS_PER_SECOND*j.TIRED_PERIOD),j.FOOD_SIZE=50,j.POO_FREQ=20,j.SLEEP_FREQ=20,j.STAGES={egg:{emoji:y.egg,tickLimit:0},hatching:{emoji:y.hatchingChick,tickLimit:1},chick:{emoji:y.chick,tickLimit:60},rooster:{emoji:y.rooster,tickLimit:120},dead:{emoji:y.skull,tickLimit:j.LIFE_SPAN}},j.displayName="Tamagotchi";var w=j;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[14,1,2]]]);
//# sourceMappingURL=main.8d6c3268.chunk.js.map